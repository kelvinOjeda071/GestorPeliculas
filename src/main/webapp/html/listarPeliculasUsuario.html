<%@ page language="java" contentType="text/html; charset=UTF-8" pageEncoding="UTF-8" %>
    <%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core" %>

        <!DOCTYPE html>
        <html>

        <head>
            <meta charset="UTF-8">
            <title>Listar Películas</title>
            <style>
                table,
                th,
                td {
                    border: 1px solid black;
                    border-collapse: collapse;
                }
                /* setting the text-align property to center*/
                
                td {
                    padding: 5px;
                    text-align: center;
                }
            </style>

            <!-- Bootstrap -->
            <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx" crossorigin="anonymous">
            <!-- CSS only -->
            <link rel="stylesheet" href="css/styles.css">

            <body>


                <%@include file="../templates/banner_interno.html" %>
                    <form action="BuscarPeliculaPorGeneroController" class="text-center">
                        <h2>Buscar por género</h2>
                        <select name="genero" id="genero" required oninvalid="this.setCustomValidity('Por favor seleccione un género de película')">
              <option value="Acción">Acción</option>
              <option value="Comedia">Comedia</option>
              <option value="Drama">Drama</option>
              <option value="Terror">Terror</option>
              <option value="Ciencia Ficción">Ciencia Ficción</option>
              <option value="Romance">Romance</option>
              <option value="Musical">Musical</option>
              <option value="Documental">Documental</option>
              <option value="Infantil">Infantil</option>
            </select>
                        <input type="submit" value="Buscar">
                    </form>



                    <h1>Listado de Películas</h1>
                    <div>
                        <a href="ListarPeliculasAlquiladas">Lista de películas alquiladas</a>
                    </div>

                    <div class="wrapper">
                        <table class="table table-striped">
                            <thead class="thead-dark">
                                <tr class="fw-bold">
                                    <td scope="col">#</td>
                                    <td scope="col">Nombre Película</td>
                                    <td scope="col">Año de estreno</td>
                                    <td scope="col">Calificación</td>
                                    <td scope="col">Género</td>
                                    <td scope="col">Poster</td>
                                    <td scope="col"></td>
                                </tr>
                            </thead>

                            <c:forEach items="${peliculas}" var="pelicula">
                                <tr>

                                    <td>${pelicula.id}</td>
                                    <td>${pelicula.nombre}</td>
                                    <td>${pelicula.anioPublicacion}</td>
                                    <td>${pelicula.calificacion}</td>
                                    <td>${pelicula.genero}</td>
                                    <td><img src="img/${pelicula.pathImage}" width="75px"></td>
                                    <td><a href="AlquilarPeliculaController?idPelicula=${pelicula.id}">Alquilar</a>
                                    </td>

                                </tr>

                            </c:forEach>
                        </table>
                    </div>
            </body>

        </html>